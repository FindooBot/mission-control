version: '3.8'

services:
  mission-control:
    build: .
    container_name: mission-control
    ports:
      - "1337:1337"
    volumes:
      # Persistent SQLite database
      - ./data:/app/data
      # Configuration file
      - ./config.json:/app/config.json
      # GitHub CLI authentication from host (for private repos)
      - ~/.config/gh:/root/.config/gh:ro
      # Docker socket (if gh CLI needs it)
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      - NODE_ENV=production
    restart: unless-stopped
